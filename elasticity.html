<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Price Elasticity Calculator</title>
<style>
    :root {
        --primary-color: #012169;
        --bg-color: #f4f4f9;
        --sidebar-bg: #ffffff;
        --border-color: #ddd;
    }
    body, html {
        margin: 0; padding: 0; height: 100%; font-family: system-ui, -apple-system, sans-serif;
        display: flex; background: var(--bg-color); color: #333; overflow: hidden;
    }
    .sidebar {
        width: 320px; min-width: 320px; background: var(--sidebar-bg); border-right: 1px solid var(--border-color);
        padding: 20px; overflow-y: auto; box-sizing: border-box; display: flex; flex-direction: column; gap: 15px;
    }
    .main {
        flex-grow: 1; display: flex; flex-direction: column; padding: 40px; box-sizing: border-box;
        justify-content: center; align-items: center; text-align: center;
    }
    label { font-weight: bold; font-size: 14px; margin-top: 5px; display: block; }
    input { padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; width: 100%; box-sizing: border-box; margin-bottom: 10px; }
    button { padding: 12px; background-color: var(--primary-color); color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 10px;}
    button:hover { opacity: 0.9; }
    .result-box { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 100%; max-width: 500px; }
    .coefficient { font-size: 4em; font-weight: bold; color: var(--primary-color); margin: 15px 0; }
    .interpretation { font-size: 1.8em; font-weight: bold; }
    .elastic { color: #28a745; }
    .inelastic { color: #d9534f; }
    .unit { color: #f0ad4e; }
    .details { margin-top: 20px; color: #666; font-size: 1.1em; }
</style>
</head>
<body>

<div class="sidebar">
    <h2 style="color: var(--primary-color); margin-top: 0;">Elasticity Variables</h2>
    
    <label for="p1">Initial Price (P1)</label>
    <input type="number" id="p1" value="10" min="0" step="any">
    
    <label for="p2">New Price (P2)</label>
    <input type="number" id="p2" value="12" min="0" step="any">
    
    <label for="q1">Initial Quantity (Q1)</label>
    <input type="number" id="q1" value="100" min="0" step="any">
    
    <label for="q2">New Quantity (Q2)</label>
    <input type="number" id="q2" value="80" min="0" step="any">

    <button onclick="calculateElasticity()">Calculate Midpoint</button>
</div>

<div class="main">
    <div class="result-box">
        <h3>Price Elasticity of Demand</h3>
        <div class="coefficient" id="coeff">0.00</div>
        <div class="interpretation" id="interp">-</div>
        <div class="details" id="details">%ΔQ: 0.00% | %ΔP: 0.00%</div>
    </div>
</div>

<script>
    function calculateElasticity() {
        const p1 = parseFloat(document.getElementById('p1').value);
        const p2 = parseFloat(document.getElementById('p2').value);
        const q1 = parseFloat(document.getElementById('q1').value);
        const q2 = parseFloat(document.getElementById('q2').value);

        if (isNaN(p1) || isNaN(p2) || isNaN(q1) || isNaN(q2)) return;

        // Midpoint Method Calculation
        const avgP = (p1 + p2) / 2;
        const avgQ = (q1 + q2) / 2;
        
        const pctChangeQ = avgQ === 0 ? 0 : (q2 - q1) / avgQ;
        const pctChangeP = avgP === 0 ? 0 : (p2 - p1) / avgP;

        let elasticity = 0;
        if (pctChangeP !== 0) {
            elasticity = Math.abs(pctChangeQ / pctChangeP);
        }

        const coeffEl = document.getElementById('coeff');
        const interpEl = document.getElementById('interp');
        const detailsEl = document.getElementById('details');

        coeffEl.innerText = elasticity.toFixed(2);
        
        detailsEl.innerText = `%ΔQ: ${(Math.abs(pctChangeQ) * 100).toFixed(2)}% | %ΔP: ${(Math.abs(pctChangeP) * 100).toFixed(2)}%`;

        interpEl.className = 'interpretation';
        if (elasticity > 1) {
            interpEl.innerText = 'Elastic';
            interpEl.classList.add('elastic');
        } else if (elasticity < 1) {
            interpEl.innerText = 'Inelastic';
            interpEl.classList.add('inelastic');
        } else {
            interpEl.innerText = 'Unit Elastic';
            interpEl.classList.add('unit');
        }
    }

    // Run initial calculation on load
    window.onload = calculateElasticity;
</script>
</body>
</html>
